<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlusÂ®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Document</title>
  <script type="text/javascript" src="client.js"></script>
  <script type="text/javascript" src="SaxonJS2.js"></script>
  <script type="text/javascript">
                
                    window.onload = function() {
                        const locationMapping = [ 
                            { name: "http://www.w3.org/1999/02/22-rdf-syntax-ns", altName: "test.xml" }
                        ];
                        const docPromises = locationMapping.map(mapping => SaxonJS.getResource({location: mapping.altName, type: "xml"}));

					    Promise.all(docPromises).then(resources => {
						    const cache = {};
						    for (var i = 0; i < resources.length; i++) {
							   cache[locationMapping[i].name] = resources[i]
						   };

						   return SaxonJS.transform({
							  documentPool: cache,
							  stylesheetLocation: "client.xsl.sef.json",
							  stylesheetParams: {
									"global-param": "whatever"
									},
							  logLevel: 10
						   }, "async");
						})
						.then(res => console.log('Initial transformation successful.'))
						.catch(err => console.log('Initial transformation failed.', err))
                    }
                
            </script>
 </head>
 <body>
    <p>
        <button id="test-function">TEST FUNCTION</button>
    </p>
<!--     <p>
        <button id="test-param">TEST PARAM</button>
    </p> -->
    <p>
        ONBLUR: <input type="text" class="typeahead">
    </p>
    <p>
        <form method="get" action="?test">
            <button type="submit">SUBMIT</button>
        </form>
    </p>
    <p>
        <button id="custom-handler">CUSTOM HANDLER</button>
    </p>
    <p>
        <button id="push-state">PUSH STATE</button>
        <button id="push-state-js">PUSH STATE w/ JS</button>
    </p>
    <p>
        <button id="class-key">@CLASS KEY</button>
    </p>
    <div id="wrapper">
    </div>
    <p>
        <button id="next-match" class="whateverest">NEXT MATCH</button>
    </p>
    <p>
        <input id="empty-value"/>
    </p>
    <p>
        <button id="circular-key">CIRCULAR KEY</button>
    </p>
<!--     <p>
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:ac="https://w3id.org/atomgraph/client#">
                <line ac:id1="circular-key" ac:id2="circular-key"/>
            </svg>
    </p> -->
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" >
            <circle r="15" cx="100" cy="100" fill="hsl(136.71448727240306, 50%, 70%)" stroke="gray" stroke-width="1">
                <title>A14</title>
            </circle>
        </svg>
    </p>
	<p>
		<button id="load-mapped-doc">Load mapped document</button>
		<button id="add-listener">addEventListener</button>
		<button id="onclick-listener">Onclick listener</button>
	</p>
 </body>
</html>
